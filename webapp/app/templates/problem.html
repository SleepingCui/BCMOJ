<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ problem.title }} - 提交代码</title>
<link rel="stylesheet" href="/static/css/github.min.css">
<link rel="stylesheet" href="/static/css/problem.css">
</style>
</head>
<body>

<div class="toast-container"></div>
<header class="topbar d-flex align-items-center justify-content-between px-4 py-2 shadow-sm sticky-top bg-white">
  <div class="d-flex align-items-center">
    <h1 class="h5 mb-0 animate-fade-in"><i class="bi bi-list-task me-2"></i>{{ problem.title }}</h1>
  </div>
  <div class="d-flex align-items-center gap-2">
      <button class="btn btn-primary topbar-btn animate-fade-in" onclick="location.href='/problems'">
        <i class="bi bi-box-arrow-right me-1"></i>题目列表
      </button>
  </div>
</header>

<div class="page-wrapper">
  <div class="problem-container">

    <div class="description">
      <h2>题目描述</h2>
      <div class="markdown-content" style="white-space: pre-wrap;">{{ problem.description }}</div>
      <p><strong>时间限制:</strong> {{ problem.time_limit }} ms</p>
    </div>
    <div class="examples">
      <h2>示例</h2>
      {% for example in examples[:problem.example_visible_count] %}
      <div class="example-pair">
        <div class="example-half">
          <h4>输入 {{ loop.index }}:</h4>
          <pre><code class="language-plaintext">{{ example.input }}</code></pre>
        </div>
        <div class="example-half">
          <h4>输出 {{ loop.index }}:</h4>
          <pre><code class="language-plaintext">{{ example.output }}</code></pre>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="upload-area">
      <h2>提交你的代码</h2>
      <form id="submitForm" method="post" enctype="multipart/form-data">
        <input type="file" name="code" id="fileInput" accept=".cpp,.c,.java,.py,.js,.go,.rs">
        <textarea id="codePasteArea" placeholder="你也可以在这里粘贴代码..." rows="10" spellcheck="false"></textarea>
        <p style="color: #888;">你可以拖动文件到页面任意位置，或将代码粘贴到上方文本框</p>
        <button type="submit" class="btn-submit">提交</button>
        <label style="margin-left:10px;">
          <input type="checkbox" id="enableO2"> 启用 -O2 优化
        </label>
      </form>
    </div>
    <div id="resultArea" class="result-area" style="display:none;">
      <h2>评测结果</h2>
      <div id="results"></div>
    </div>
  </div>
</div>

<div class="footer">
  <p>&copy; 2025 BCMOJ. Released under the <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a>. | <a href="/about">关于我们</a></p>
</div>

<script src="/static/js/marked.min.js"></script>
<script src="/static/js/tex-mml-chtml.js"></script>
<script src="/static/js/problem.js"></script>

</body>
</html>
